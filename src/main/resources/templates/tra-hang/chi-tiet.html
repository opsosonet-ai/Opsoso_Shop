<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${pageTitle}">Chi ti·∫øt tr·∫£ h√†ng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            padding-bottom: 80px;
        }
        .navbar-brand {
            font-weight: bold;
        }
        .card {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: none;
        }
        .info-label {
            font-weight: 600;
            color: #495057;
        }
        .status-badge {
            font-size: 0.9em;
            padding: 0.5em 1em;
        }
        .timeline-item {
            border-left: 3px solid #007bff;
            padding-left: 20px;
            margin-bottom: 20px;
        }
        .timeline-date {
            color: #6c757d;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/dashboard">
                <i class="fas fa-chart-line me-2"></i>OSS
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/dashboard">
                            <i class="fas fa-tachometer-alt me-1"></i>T·ªïng quan
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/nhan-vien">
                            <i class="fas fa-users me-1"></i>Nh√¢n vi√™n
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/hang-hoa">
                            <i class="fas fa-box me-1"></i>H√†ng h√≥a
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/khach-hang">
                            <i class="fas fa-user-friends me-1"></i>Kh√°ch h√†ng
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/nha-phan-phoi">
                            <i class="fas fa-truck me-1"></i>Nh√† ph√¢n ph·ªëi
                        </a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/settings">
                            <i class="fas fa-cog me-1"></i>C√†i ƒë·∫∑t
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user me-1"></i>Ng∆∞·ªùi d√πng
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="/auth/change-password">
                                <i class="fas fa-key me-2"></i>ƒê·ªïi m·∫≠t kh·∫©u
                            </a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="/auth/logout">
                                <i class="fas fa-sign-out-alt me-2"></i>ƒêƒÉng xu·∫•t
                            </a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Page Header -->
        <div class="row mb-4">
            <div class="col-md-8">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/tra-hang">Tr·∫£ h√†ng</a></li>
                        <li class="breadcrumb-item active" th:text="${traHang.maTraHang}">TH001</li>
                    </ol>
                </nav>
                <h2>
                    <i class="fas fa-info-circle text-primary me-2"></i>
                    Chi ti·∫øt tr·∫£ h√†ng
                </h2>
                <p class="text-muted mb-0" th:text="'M√£: ' + ${traHang.maTraHang}">M√£: TH001</p>
            </div>
            <div class="col-md-4 text-end">
                <a th:href="@{/tra-hang/sua/{id}(id=${traHang.id})}" class="btn btn-warning me-2">
                    <i class="fas fa-edit me-1"></i>Ch·ªânh s·ª≠a
                </a>
                <a href="/tra-hang" class="btn btn-outline-secondary">
                    <i class="fas fa-arrow-left me-1"></i>Quay l·∫°i
                </a>
            </div>
        </div>

        <!-- Alert Messages -->
        <div th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
            <i class="fas fa-check-circle me-2"></i>
            <span th:text="${successMessage}"></span>
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>

        <div class="row">
            <!-- Main Info -->
            <div class="col-lg-8">
                <!-- Basic Information -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-info me-2"></i>Th√¥ng tin c∆° b·∫£n
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <span class="info-label">M√£ tr·∫£ h√†ng:</span>
                                <div class="mt-1">
                                    <strong th:text="${traHang.maTraHang}">TH001</strong>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <span class="info-label">Tr·∫°ng th√°i:</span>
                                <div class="mt-1" th:if="${traHang.trangThai != null}">
                                    <span th:switch="${traHang.trangThai.name()}" class="badge status-badge">
                                        <span th:case="'CHO_DUYET'" class="badge bg-warning text-dark">Ch·ªù duy·ªát</span>
                                        <span th:case="'DA_DUYET'" class="badge bg-success">ƒê√£ duy·ªát</span>
                                        <span th:case="'TU_CHOI'" class="badge bg-danger">T·ª´ ch·ªëi</span>
                                    </span>
                                </div>
                                <div class="mt-1" th:if="${traHang.trangThai == null}">
                                    <span class="badge bg-secondary">N/A</span>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <span class="info-label">Ng√†y tr·∫£ h√†ng:</span>
                                <div class="mt-1" th:if="${traHang.ngayTraHang}">
                                    <i class="fas fa-calendar me-1"></i>
                                    <span th:text="${#temporals.format(traHang.ngayTraHang, 'dd/MM/yyyy HH:mm')}">01/01/2024 10:00</span>
                                </div>
                                <div class="mt-1" th:unless="${traHang.ngayTraHang}">
                                    <span class="text-muted">Ch∆∞a x√°c ƒë·ªãnh</span>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3" th:if="${traHang.ngayXuLy}">
                                <span class="info-label">Ng√†y x·ª≠ l√Ω:</span>
                                <div class="mt-1">
                                    <i class="fas fa-check me-1"></i>
                                    <span th:text="${#temporals.format(traHang.ngayXuLy, 'dd/MM/yyyy HH:mm')}">01/01/2024 15:00</span>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3" th:if="${traHang.nguoiXuLy}">
                                <span class="info-label">Ng∆∞·ªùi x·ª≠ l√Ω:</span>
                                <div class="mt-1">
                                    <i class="fas fa-user me-1"></i>
                                    <span th:text="${traHang.nguoiXuLy}">Admin</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product Information -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-box me-2"></i>Th√¥ng tin h√†ng h√≥a
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-3" th:if="${traHang.hangHoa != null}">
                                <span class="info-label">T√™n h√†ng h√≥a:</span>
                                <div class="mt-1">
                                    <strong th:text="${traHang.hangHoa.tenHangHoa}">T√™n s·∫£n ph·∫©m</strong>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3" th:if="${traHang.hangHoa != null}">
                                <span class="info-label">M√£ h√†ng h√≥a:</span>
                                <div class="mt-1">
                                    <code th:text="${traHang.hangHoa.maHangHoa}">HH001</code>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3" th:if="${traHang.hangHoa == null}">
                                <span class="badge bg-secondary">Kh√¥ng c√≥ th√¥ng tin h√†ng h√≥a</span>
                            </div>
                            <div class="col-md-4 mb-3">
                                <span class="info-label">S·ªë l∆∞·ª£ng:</span>
                                <div class="mt-1">
                                    <span class="badge bg-info" th:text="${traHang.soLuong}">1</span>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <span class="info-label">ƒê∆°n gi√°:</span>
                                <div class="mt-1">
                                    <strong th:text="${#numbers.formatDecimal(traHang.donGia, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'">100,000 VNƒê</strong>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <span class="info-label">Th√†nh ti·ªÅn:</span>
                                <div class="mt-1">
                                    <strong class="text-success" th:text="${#numbers.formatDecimal(traHang.thanhTien, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'">100,000 VNƒê</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Customer Information -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-user me-2"></i>Th√¥ng tin kh√°ch h√†ng
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <span class="info-label">T√™n kh√°ch h√†ng:</span>
                                <div class="mt-1">
                                    <strong th:text="${traHang.tenKhachHang}">T√™n kh√°ch h√†ng</strong>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3" th:if="${traHang.soDienThoai}">
                                <span class="info-label">S·ªë ƒëi·ªán tho·∫°i:</span>
                                <div class="mt-1">
                                    <i class="fas fa-phone me-1"></i>
                                    <span th:text="${traHang.soDienThoai}">0123456789</span>
                                </div>
                            </div>
                            <div class="col-12" th:if="${traHang.lyDo}">
                                <span class="info-label">L√Ω do tr·∫£ h√†ng:</span>
                                <div class="mt-2 p-3 bg-light rounded">
                                    <i class="fas fa-comment me-1"></i>
                                    <span th:text="${traHang.lyDo}">L√Ω do tr·∫£ h√†ng...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="col-lg-4">
                <!-- Status Timeline -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-history me-2"></i>L·ªãch s·ª≠ tr·∫°ng th√°i
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- Created -->
                        <div class="timeline-item">
                            <div class="d-flex justify-content-between">
                                <strong>T·∫°o y√™u c·∫ßu</strong>
                                <span class="badge bg-primary">Ho√†n th√†nh</span>
                            </div>
                            <div class="timeline-date" th:if="${traHang.createdAt}">
                                <i class="fas fa-clock me-1"></i>
                                <span th:text="${#temporals.format(traHang.createdAt, 'dd/MM/yyyy HH:mm')}">01/01/2024 10:00</span>
                            </div>
                        </div>

                        <!-- Current Status -->
                        <div class="timeline-item" th:if="${traHang.trangThai != null}">
                            <div class="d-flex justify-content-between">
                                <strong th:text="${traHang.trangThai.displayName}">Tr·∫°ng th√°i hi·ªán t·∫°i</strong>
                                <span th:switch="${traHang.trangThai.name()}" class="badge">
                                    <span th:case="'CHO_DUYET'" class="badge bg-warning">ƒêang ch·ªù</span>
                                    <span th:case="'DA_DUYET'" class="badge bg-success">Ho√†n th√†nh</span>
                                    <span th:case="'TU_CHOI'" class="badge bg-danger">B·ªã t·ª´ ch·ªëi</span>
                                </span>
                            </div>
                            <div class="timeline-date" th:if="${traHang.ngayXuLy}">
                                <i class="fas fa-clock me-1"></i>
                                <span th:text="${#temporals.format(traHang.ngayXuLy, 'dd/MM/yyyy HH:mm')}">01/01/2024 15:00</span>
                            </div>
                            <div class="timeline-date" th:unless="${traHang.ngayXuLy}">
                                <i class="fas fa-hourglass-half me-1"></i>
                                Ch·ªù x·ª≠ l√Ω...
                            </div>
                        </div>
                        <div class="timeline-item" th:if="${traHang.trangThai == null}">
                            <div class="d-flex justify-content-between">
                                <strong>Tr·∫°ng th√°i kh√¥ng x√°c ƒë·ªãnh</strong>
                                <span class="badge bg-secondary">N/A</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-bolt me-2"></i>Thao t√°c nhanh
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="d-grid gap-2">
                            <!-- Actions for CHO_DUYET status -->
                            <div th:if="${traHang.trangThai != null and traHang.trangThai.name() == 'CHO_DUYET'}">
                                <form th:action="@{/tra-hang/duyet/{id}(id=${traHang.id})}" method="post" class="d-inline">
                                    <button type="submit" class="btn btn-success w-100 mb-2" 
                                            onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën DUY·ªÜT tr·∫£ h√†ng n√†y?\n\n‚úÖ H√†ng h√≥a s·∫Ω ƒë∆∞·ª£c nh·∫≠p l·∫°i v√†o kho\nüí∞ S·ªë ti·ªÅn s·∫Ω ƒë∆∞·ª£c tr·ª´ kh·ªèi doanh thu')">
                                        <i class="fas fa-check me-1"></i>Duy·ªát tr·∫£ h√†ng
                                    </button>
                                </form>
                                
                                <button type="button" class="btn btn-danger w-100 mb-2" 
                                        data-bs-toggle="modal" data-bs-target="#rejectModal">
                                    <i class="fas fa-times me-1"></i>T·ª´ ch·ªëi tr·∫£ h√†ng
                                </button>
                            </div>
                            
                            <!-- Actions for DA_DUYET status -->
                            <div th:if="${traHang.trangThai != null and traHang.trangThai.name() == 'DA_DUYET'}">
                                <div class="alert alert-success mb-2">
                                    <i class="fas fa-check-circle me-1"></i>
                                    ƒê√£ duy·ªát tr·∫£ h√†ng
                                </div>
                                
                                <div class="row">
                                    <div class="col-6">
                                        <form th:action="@{/tra-hang/hoan-tac/{id}(id=${traHang.id})}" method="post" class="d-inline">
                                            <button type="submit" class="btn btn-warning w-100 mb-2" 
                                                    onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën HO√ÄN T√ÅC vi·ªác duy·ªát tr·∫£ h√†ng?\n\n‚ö†Ô∏è H√†ng h√≥a s·∫Ω ƒë∆∞·ª£c tr·ª´ kh·ªèi kho\nüí∞ S·ªë ti·ªÅn s·∫Ω ƒë∆∞·ª£c c·ªông l·∫°i v√†o doanh thu')">
                                                <i class="fas fa-undo me-1"></i>Ho√†n t√°c
                                            </button>
                                        </form>
                                    </div>
                                    <div class="col-6">
                                        <button type="button" class="btn btn-danger w-100 mb-2" 
                                                data-bs-toggle="modal" data-bs-target="#rejectAfterApprovalModal">
                                            <i class="fas fa-times me-1"></i>T·ª´ ch·ªëi
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="alert alert-warning">
                                    <small><i class="fas fa-info-circle me-1"></i>
                                    <strong>L∆∞u √Ω:</strong> T·ª´ ch·ªëi sau khi ƒë√£ duy·ªát s·∫Ω t·ª± ƒë·ªông ho√†n t√°c t·ªìn kho v√† doanh thu</small>
                                </div>
                            </div>
                            
                            <!-- Actions for TU_CHOI status -->
                            <div th:if="${traHang.trangThai != null and traHang.trangThai.name() == 'TU_CHOI'}">
                                <div class="alert alert-danger mb-2">
                                    <i class="fas fa-times-circle me-1"></i>
                                    ƒê√£ t·ª´ ch·ªëi tr·∫£ h√†ng
                                </div>
                            </div>
                            
                            <!-- Common Actions -->
                            <hr>
                            
                            <a th:href="@{/tra-hang/sua/{id}(id=${traHang.id})}" class="btn btn-warning">
                                <i class="fas fa-edit me-1"></i>Ch·ªânh s·ª≠a
                            </a>
                            
                            <a href="/tra-hang" class="btn btn-outline-secondary">
                                <i class="fas fa-list me-1"></i>Danh s√°ch tr·∫£ h√†ng
                            </a>
                            
                            <a href="/tra-hang/them" class="btn btn-outline-primary">
                                <i class="fas fa-plus me-1"></i>T·∫°o tr·∫£ h√†ng m·ªõi
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Reject Modal -->
    <div class="modal fade" id="rejectModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <form th:action="@{/tra-hang/tu-choi/{id}(id=${traHang.id})}" method="post">
                    <div class="modal-header">
                        <h5 class="modal-title text-danger">
                            <i class="fas fa-times-circle me-2"></i>
                            T·ª´ ch·ªëi tr·∫£ h√†ng
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën <strong class="text-danger">T·ª™ CH·ªêI</strong> tr·∫£ h√†ng <strong th:text="${traHang.maTraHang}">TH001</strong> kh√¥ng?</p>
                        
                        <div class="mb-3">
                            <label for="lyDoTuChoi" class="form-label">L√Ω do t·ª´ ch·ªëi (t√πy ch·ªçn):</label>
                            <textarea class="form-control" id="lyDoTuChoi" name="lyDoTuChoi" 
                                    rows="3" placeholder="Nh·∫≠p l√Ω do t·ª´ ch·ªëi tr·∫£ h√†ng..."></textarea>
                        </div>
                        
                        <div class="alert alert-warning">
                            <i class="fas fa-info-circle me-1"></i>
                            <strong>L∆∞u √Ω:</strong> Khi t·ª´ ch·ªëi, h√†ng h√≥a s·∫Ω KH√îNG ƒë∆∞·ª£c nh·∫≠p l·∫°i v√†o kho v√† kh√°ch h√†ng s·∫Ω kh√¥ng ƒë∆∞·ª£c ho√†n ti·ªÅn.
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
                        <button type="submit" class="btn btn-danger">
                            <i class="fas fa-times me-1"></i>T·ª´ ch·ªëi tr·∫£ h√†ng
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Reject After Approval Modal -->
    <div class="modal fade" id="rejectAfterApprovalModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <form th:action="@{/tra-hang/tu-choi/{id}(id=${traHang.id})}" method="post">
                    <div class="modal-header bg-danger text-white">
                        <h5 class="modal-title">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            T·ª´ ch·ªëi sau khi ƒë√£ duy·ªát
                        </h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-danger">
                            <h6><i class="fas fa-warning me-2"></i>C·∫¢NH B√ÅO QUAN TR·ªåNG</h6>
                            <p class="mb-0">B·∫°n ƒëang t·ª´ ch·ªëi ƒë∆°n tr·∫£ h√†ng <strong th:text="${traHang.maTraHang}">TH001</strong> ƒë√£ ƒë∆∞·ª£c <strong>DUY·ªÜT TR∆Ø·ªöC ƒê√ì</strong>!</p>
                        </div>
                        
                        <h6>üîÑ C√°c thay ƒë·ªïi s·∫Ω ƒë∆∞·ª£c th·ª±c hi·ªán:</h6>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-minus-circle text-danger me-2"></i>Tr·ª´ l·∫°i <strong th:text="${traHang.soLuong}">X</strong> s·∫£n ph·∫©m kh·ªèi kho</li>
                            <li><i class="fas fa-plus-circle text-success me-2"></i>C·ªông l·∫°i <strong th:text="${#numbers.formatDecimal(traHang.thanhTien, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'">X VNƒê</strong> v√†o doanh thu</li>
                            <li><i class="fas fa-ban text-warning me-2"></i>ƒê∆°n tr·∫£ h√†ng chuy·ªÉn th√†nh "T·ª´ ch·ªëi"</li>
                        </ul>
                        
                        <div class="mb-3">
                            <label for="lyDoTuChoiSauDuyet" class="form-label"><strong>L√Ω do t·ª´ ch·ªëi (b·∫Øt bu·ªôc):</strong></label>
                            <textarea class="form-control" id="lyDoTuChoiSauDuyet" name="lyDoTuChoi" 
                                    rows="4" placeholder="Nh·∫≠p l√Ω do chi ti·∫øt t·∫°i sao t·ª´ ch·ªëi ƒë∆°n ƒë√£ duy·ªát..." required></textarea>
                            <small class="text-muted">L√Ω do n√†y s·∫Ω ƒë∆∞·ª£c ghi v√†o l·ªãch s·ª≠ ƒë∆°n h√†ng</small>
                        </div>
                        
                        <div class="alert alert-warning">
                            <i class="fas fa-info-circle me-1"></i>
                            <strong>H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c!</strong> Vui l√≤ng c√¢n nh·∫Øc k·ªπ tr∆∞·ªõc khi th·ª±c hi·ªán.
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy b·ªè</button>
                        <button type="submit" class="btn btn-danger">
                            <i class="fas fa-times me-1"></i>X√°c nh·∫≠n t·ª´ ch·ªëi
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Auto-hide alerts after 5 seconds
        setTimeout(function() {
            var alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                var bsAlert = new bootstrap.Alert(alert);
                bsAlert.close();
            });
        }, 5000);
    </script>
</body>
</html>